extends layout

block content
  .dashboard-container
    // Header Section
    header.dashboard-header
      .container
        .header-content
          .user-info
            .avatar-container
              img#user-avatar.user-avatar(src="/images/avatar.png" alt="User Avatar")
              .status-indicator.online
            .user-details
              h1#user-name.user-name
              p#user-email.user-email Loading...
          .header-actions
            button.btn.btn-secondary#logout-btn
              // Material Design Logout SVG icon
              svg.icon(width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                path(d="M16 13v-2H7V8l-5 4 5 4v-3h9z")
                path(d="M20 3h-8a2 2 0 0 0-2 2v4h2V5h8v14h-8v-4h-2v4a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z")
              span Logout

    // Main Dashboard Content
    main.dashboard-main
      .container
        // Balance Card
        .balance-section
          .balance-card
            .balance-header
              .balance-title
                // Wallet SVG for Account Balance
                svg.icon(width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ff8533" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                  rect(x="2" y="7" width="20" height="14" rx="4")
                  path(d="M16 3v4M8 3v4M2 11h20")
                span Account Balance
              .balance-controls
                button.toggle-btn#balance-toggle(title="Toggle Balance Visibility")
                  // Eye SVG for toggle
                  svg.icon(width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                    path(d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z")
                    circle(cx="12" cy="12" r="3")
                  span.sr-only Toggle Balance
            .balance-content
              .balance-display
                .primary-balance
                  span.currency-symbol 
                  span#balance-amount.balance-amount(data-balance="$0.00") ••••••
                .btc-balance
                  img.btc-icon(src="https://cryptologos.cc/logos/bitcoin-btc-logo.png" alt="Bitcoin")
                  span#btc-balance.btc-amount(data-btc-balance="0.00000000") ••••••••
                  span.btc-label BTC
              .balance-actions
                button.btn.btn-primary.withdraw-btn#withdraw-btn(disabled)
                  // Withdraw (Arrow Up Circle) SVG
                  svg.icon(width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                    circle(cx="12" cy="12" r="10")
                    polyline(points="12 8 12 16")
                    polyline(points="8 12 12 8 16 12")
                  span Withdraw
                button.btn.btn-outline.deposit-btn#deposit-btn
                  // Deposit (Arrow Down Circle) SVG
                  svg.icon(width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ff8533" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                    circle(cx="12" cy="12" r="10")
                    polyline(points="12 16 12 8")
                    polyline(points="8 12 12 16 16 12")
                  span Deposit

        // Quick Actions Section
        .quick-actions
          h2.section-title Quick Actions
          .actions-grid
            .action-card
              .action-icon
                // Receipt/List SVG for Transaction History
                svg(width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                  path(d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4")
                  polyline(points="7 10 12 15 17 10")
                  line(x1="12" y1="15" x2="12" y2="3")
              .action-content
                h3 Transaction History
                p View all your transactions
              .action-arrow
                i.icon.icon-chevron-right

            .action-card
              .action-icon
                // Gear/Cog SVG for Account Settings
                svg(width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                  circle(cx="12" cy="12" r="3")
                  path(d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z")
              .action-content
                h3 Account Settings
                p Manage your profile
              .action-arrow
                i.icon.icon-chevron-right

            .action-card
              .action-icon
                // Life-ring SVG for Support
                svg(width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                  circle(cx="12" cy="12" r="10")
                  circle(cx="12" cy="12" r="4")
                  line(x1="4.93" y1="4.93" x2="9.17" y2="9.17")
                  line(x1="14.83" y1="14.83" x2="19.07" y2="19.07")
                  line(x1="14.83" y1="9.17" x2="19.07" y2="4.93")
                  line(x1="14.83" y1="9.17" x2="19.07" y2="4.93")
                  line(x1="4.93" y1="19.07" x2="9.17" y2="14.83")
              .action-content
                h3 Support
                p Get help and support
              .action-arrow
                i.icon.icon-chevron-right

        // Crypto Prices Section (Updated with Real Icons)
        .recent-activity
          h2.section-title Crypto Prices
          .activity-list
            .activity-item
              .activity-icon.success
                img.crypto-icon(src="https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/32/icon/btc.png" alt="bitcoin" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'")
                div(style="display:none; width:32px; height:32px; border-radius:50%; background:#f7931a; align-items:center; justify-content:center; font-weight:bold; font-size:14px; color:white;") ₿
              .activity-content
                .activity-title Bitcoin
                .activity-description BTC
                .activity-time Live Price
              .activity-amount
                span#bitcoin-price $0.00
                br
                span#bitcoin-change.crypto-change +0.00%

            .activity-item
              .activity-icon.pending
                img.crypto-icon(src="https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/32/icon/eth.png" alt="ethereum" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'")
                div(style="display:none; width:32px; height:32px; border-radius:50%; background:#627eea; align-items:center; justify-content:center; font-weight:bold; font-size:14px; color:white;") Ξ
              .activity-content
                .activity-title Ethereum
                .activity-description ETH
                .activity-time Live Price
              .activity-amount
                span#ethereum-price $0.00
                br
                span#ethereum-change.crypto-change +0.00%

            .activity-item
              .activity-icon.info
                img.crypto-icon(src="https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/32/icon/doge.png" alt="dogecoin" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'")
                div(style="display:none; width:32px; height:32px; border-radius:50%; background:#c2a633; align-items:center; justify-content:center; font-weight:bold; font-size:14px; color:white;") Ð
              .activity-content
                .activity-title Dogecoin
                .activity-description DOGE
                .activity-time Live Price
              .activity-amount
                span#dogecoin-price $0.00
                br
                span#dogecoin-change.crypto-change +0.00%

    // Loading Overlay
    #loading-overlay.loading-overlay
      .loading-content
        .loading-spinner
          .spinner
        .loading-text Loading your dashboard...

    // Withdraw Modal
    .modal-overlay#withdraw-modal
      .modal
        .modal-header
          h3 Withdraw Funds
          button.modal-close#modal-close
            i.icon.icon-x
        .modal-content
          form#withdraw-form
      .form-group
        label(for="withdraw-amount") Amount
        .input-wrapper
          span.currency-symbol $
          input#withdraw-amount.form-input(type="number" name="withdraw-amount" placeholder="0.00" min="1" step="0.01" required)
      .form-group
        label(for="withdraw-method") Withdrawal Method
        select#withdraw-method.form-select(name="withdraw-method" required)
          option(value="") Select method
          option(value="crypto") Cryptocurrency

            .form-actions
              button.btn.btn-secondary(type="button" data-dismiss="modal") Cancel
              button.btn.btn-primary(type="submit") Confirm Withdrawal

    // Support Modal
    .modal-overlay#support-modal
      .modal.support-modal
        .modal-header
          h3 Contact Support
          button.modal-close#support-modal-close
            i.icon.icon-x
        .modal-content
          form#support-form
            .form-group
              label(for="support-message")
                // SVG icon for message
                span(style="display:inline-flex;align-items:center;margin-right:8px;")
                  svg(width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff8533" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                    path(d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z")
                | How can we help you?
              textarea#support-message.form-input(
                name="support-message"
                placeholder="Please describe your issue or question..."
                rows="5"
                maxlength="500"
                required
              )
            .form-actions
              button.btn.btn-primary(type="submit")
                // SVG icon for submit
                svg(width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
                  line(x1="22" y1="2" x2="11" y2="13")
                  polygon(points="22 2 15 22 11 13 2 9 22 2")
                span Submit


block scripts
  script(src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js")
  script(src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js")
  script(src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js")
  script(src="/javascripts/dashboard.js")